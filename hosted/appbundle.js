(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("message").classList.remove("hidden")},r=()=>{document.getElementById("message").classList.add("hidden")};e.exports={handleError:t,sendPost:async(e,r,n)=>{const d=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await d.json();document.getElementById("message").classList.add("hidden"),o.redirect&&(window.location=o.redirect),o.error&&t(o.error),n&&n(o)},hideError:r,convertHexRGB:e=>{let t=e.match(/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}},sendGet:async(e,n,d)=>{let o="/tag?&"+new URLSearchParams(n);console.log(o);const a=await fetch(o,{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),s=await a.json();r(),s.redirect&&(window.location=s.redirect),s.error&&t(s.error),d&&d(s)}}}},t={};function r(n){var d=t[n];if(void 0!==d)return d.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{const e=r(603);window.onload=()=>{const t=document.getElementById("get-user"),r=document.getElementById("get-crew"),n=document.getElementById("get-tag"),d=document.getElementById("get-tags");t.addEventListener("submit",(t=>{t.preventDefault(),(t=>{t.preventDefault(),e.hideError();const r=t.target.querySelector("#username"),n=t.target.querySelector("#uid");if(!r&&!n)return e.handleError("No username and no user id!"),!1;r&&!n?e.sendPost(t.target.method,{username:r}):!r&&n?e.sendPost(t.target.method,{id:n}):e.sendPost(t.target.method,{username:r,id:n})})(t)})),r.addEventListener("submit",(t=>{t.preventDefault(),(t=>{t.preventDefault(),e.hideError();const r=t.target.querySelector("#crew-name");if(!r)return e.handleError("No crew name entered!"),!1;e.sendPost(t.target.method,{name:r})})(t)})),n.addEventListener("submit",(t=>{t.preventDefault(),(t=>{t.preventDefault(),e.hideError();const r=t.target.querySelector("#tid").value,n=t.target.querySelector("#title").value;if(!r&&!n)return e.handleError("No title and no tag id!"),!1;r&&!n?e.sendGet(t.target.method,{id:r}):!r&&n?e.sendGet(t.target.method,{title:n}):e.sendGet(t.target.method,{id:r,title:n})})(t)})),d.addEventListener("submit",(t=>{t.preventDefault(),(t=>{t.preventDefault(),e.hideError();const r=t.target.querySelector("#username"),n=t.target.querySelector("#uid");if(!r&&!n)return e.handleError("No username and no user id!"),!1;r&&!n?e.sendPost(t.target.method,{username:r}):!r&&n?e.sendPost(t.target.method,{id:n}):e.sendPost(t.target.method,{username:r,id:n})})(t)}))}})()})();